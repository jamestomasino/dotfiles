#!/bin/sh
if [ -n "$1" ]; then
  repo="$1"
  desc="${2:-autogenerated}"
  user="$(lpass show --username Github)"
  pass="$(lpass show --pass Github)"
  if [ -n "$user" ]; then
    curl -su "${user}:${pass}" https://api.github.com/user/repos -d "{\"name\":\"$repo\", \"description\":\"$desc\"}" >/dev/null 2>&1
  else
    printf "username or password not found for Github.\\n"
  fi
else
  printf "repo name required (and description optional).\\n"
fi
